
CXL Consortium has created a cache-coherent standard fully compatible with the PCIe physical layer that enables the CPU host and CXL devices to see the same data seamlessly using autonomous hardware mechanisms when they each need to access it.The result is the creation of entirely new and highly scalable compute architectures, enabling new use cases, and a broad ecosystem of compliant hosts and devices.So how does CXL enable these capabilities?

A CXL host has a home agent serving as an orchestrator, which utilizes three unique protocols implemented in hardware to reduce latency and facilitate ease of use without the need for software.

The first protocol is CXL.io, based on PCI Express technology.When a CXL device such as an accelerator is connected, it is discovered, enumerated, configured, and managed through the CXL.io protocol.This allows the home agent to view the accelerator memory in the same way it views its own local memory.

The second protocol is CXL.mem, which the home agent then uses to enable the host to access accelerator memory without software interventions.The accelerator memory looks more like DDR-attached memory to the application, resulting in lower latency.CXL.mem transactions are simple, fast memory load and store transactions that run independently from the host processor, which takes care of all the associated coherency flows.

The third CXL protocol, CXL.cache, is used to establish coherency and faster communication between the CXL host and its associated devices.The home agent leverages the host's proprietary bus to talk to last-level caches, which use the CXL.cache protocol to talk to lower caches, cores, and CXL devices.This establishes a hierarchy in which each level is abstracted and only sees activity in its domain.CXL.cache also allows the CXL accelerator to pull the bits of data it needs from host memory when it needs it.The benefit of CXL coherency is that the CXL device and CPU can work on shared data in a coordinated way.The home agent makes sure that changes cannot be made simultaneously, and once a change is made, whether by the accelerator or CPU, the data is updated across all copies immediately.With CXL, systems can reduce the complexity and overhead traditionally associated with coherency across an I/O link.This simplified coherence model creates consistency across the host and devices, which improves system efficiency and reduces device cost.To learn more about CXL, visit computeexpresslink.org.
